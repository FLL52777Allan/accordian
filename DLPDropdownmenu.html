<!doctype html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Accordion ‚Äî HTML + CSS (Auto-fix images + solid theme)</title>
  <style>
    :root { --dur:560ms; --ease:cubic-bezier(.22,1.2,.32,1); --radius:16px; }

    /* Themes (toggled via data-theme on <html>) */
    html[data-theme="dark"]{
      --bg:#0b0b10; --bg-accent:#1b1b28; --panel:#12121a; --text:#e8e8f0;
      --muted:#a5a7b4; --accent:#6aa6ff; --ring:#8ec1ff; --img-frame:#0e0e16;
      --shadow:0 0 0 1px rgba(255,255,255,0.02) inset, 0 8px 30px rgba(0,0,0,.25);
    }
    html[data-theme="light"]{
      --bg:#f6f7fb; --bg-accent:#ffffff; --panel:#ffffff; --text:#0e1320;
      --muted:#50586b; --accent:#2f6bff; --ring:#89b4ff; --img-frame:#eef1f8;
      --shadow:0 0 0 1px rgba(3,8,20,0.05) inset, 0 8px 30px rgba(3,8,20,.08);
    }

    html,body{height:100%;margin:0}
    body{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,"Noto Sans";
      color:var(--text);
      background:radial-gradient(1200px 600px at 20% -10%, var(--bg-accent) 0%, var(--bg) 60%);
      transition: background-color 300ms ease, color 300ms ease;
    }
    .wrap{max-width:720px;margin:clamp(24px,6vw,64px) auto;padding:0 16px}
    h1{margin:0 0 12px}
    p.lead{color:var(--muted);margin:0 0 24px}

    /* Theme button */
    .theme-switch{position:sticky;top:12px;display:flex;justify-content:flex-end;max-width:720px;margin:12px auto 0;padding:0 16px;z-index:2}
    .theme-btn{
      display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:999px;
      background:var(--panel);color:var(--text);border:1px solid rgba(128,128,160,.25);
      box-shadow:var(--shadow);cursor:pointer;user-select:none;
      transition:transform 160ms ease, background-color 300ms ease, color 300ms ease;
    }
    .theme-btn:hover{transform:translateY(-1px)}

    /* Accordion */
    .accordion{display:grid;gap:12px}
    .item{
      position:relative;border:1px solid rgba(128,128,160,.25);
      background:linear-gradient(180deg, var(--panel) 0%, rgba(16,16,26,1) 100%);
      border-radius:var(--radius);box-shadow:var(--shadow);
      transition:box-shadow 240ms ease, border-color 240ms ease, background-color 240ms ease;
    }
    .item:hover{
      box-shadow:0 0 0 1px rgba(0,0,0,0) inset, 0 14px 44px rgba(0,0,0,.35), 0 0 0 3px rgba(106,166,255,.3);
    }
    .item>input{position:absolute;inset:0;opacity:0;pointer-events:none}
    .summary{cursor:pointer;display:grid;grid-template-columns:1fr auto;align-items:center;gap:12px;padding:16px 18px;font-weight:600;user-select:none}
    .summary:focus-visible{outline:none;box-shadow:0 0 0 3px var(--ring);border-radius:calc(var(--radius) - 2px)}
    .chev{font-size:14px;color:var(--muted);transition:transform calc(var(--dur)*.85) var(--ease), color 220ms ease}
    .chev::before{content:"‚ñ∂"}

    .panel{display:grid;grid-template-rows:0fr;transition:grid-template-rows var(--dur) var(--ease)}
    .panel>.panel-inner{overflow:hidden}
    .panel-inner>*{
      opacity:0;transform:translateY(-6px) scale(.98);
      transition:opacity calc(var(--dur)*.8) var(--ease), transform calc(var(--dur)*.8) var(--ease);
      color:var(--muted);line-height:1.6;padding:0 18px;
    }
    .item>input:checked~.panel{grid-template-rows:1fr}
    .item>input:checked~.summary .chev{transform:rotate(90deg);color:var(--accent)}
    .item>input:checked~.panel .panel-inner>*{opacity:1;transform:none;transition-delay:80ms}

    /* Images + fallback */
    img.accordion-img{
      display:block;width:100%;height:auto;border-radius:14px;margin:12px auto;
      background:var(--img-frame);border:1px solid rgba(128,128,160,.25);box-shadow:0 10px 28px rgba(3,8,20,.35);
    }
    .img-fallback{
      display:block;margin:12px auto;padding:16px 18px;border-radius:14px;border:1px dashed rgba(128,128,160,.4);
      color:var(--muted);background:rgba(0,0,0,0.06)
    }
    html[data-theme="light"] .img-fallback{background:rgba(0,0,0,0.03)}

    @media (prefers-reduced-motion: reduce){
      .panel,.panel-inner>*,.summary .chev,.theme-btn{transition:none !important}
    }
  </style>
</head>
<body>

  <div class="theme-switch">
    <button class="theme-btn" id="toggleTheme" type="button">üåó Light / Dark</button>
  </div>

  <main class="wrap">
    <h1>Accordion (HTML + CSS)</h1>
    <p class="lead">Smooth open <em>and</em> close, springy easing ‚Äî with a bulletproof theme toggle and auto-fixing images.</p>

    <section class="accordion">
      <div class="item">
        <input type="checkbox" id="acc-1" />
        <label class="summary" for="acc-1">
          Poem: The Helpfulness of Learning How to Deal with Stress
          <span class="chev" aria-hidden="true"></span>
        </label>
        <div class="panel"><div class="panel-inner">
          <!-- AUTO-RESOLVE IMAGE: will try these candidates in order -->
          <img
            class="accordion-img"
            alt="Poem about dealing with stress"
            data-candidates='[
              "images/SelfDirectedLearningPoemActivity.png",
              "images/selfdirectedlearningpoemactivity.png",
              "images/SelfDirectedLearningPoemActivity.PNG",
              "images/SelfDirectedLearningPoemActivity.jpg",
              "images/SelfDirectedLearningPoemActivity.jpeg",
              "images/Self_Directed_Learning_Poem_Activity.png",
              "images/Self Directed Learning Poem Activity.png"
            ]'
          />
          <template class="fallback">
            <div class="img-fallback">‚ö†Ô∏è Missing image: <code>SelfDirectedLearningPoemActivity.(png/jpg)</code> in <code>/images</code></div>
          </template>

          <p>This section features the poem titled <em>The helpfulness of learning how to deal with stress</em>, which discusses managing stress and staying calm through work and responsibility.</p>
        </div></div>
      </div>

      <div class="item">
        <input type="checkbox" id="acc-2" />
        <label class="summary" for="acc-2">
          Digital Literacy Project
          <span class="chev" aria-hidden="true"></span>
        </label>
        <div class="panel"><div class="panel-inner">
          <!-- AUTO-RESOLVE IMAGE: note Collaboration/Colaboration variants -->
          <img
            class="accordion-img"
            alt="Digital Literacy and Collaboration title slide"
            data-candidates='[
              "images/DigitalLiteracyAndColaboration.png",
              "images/DigitalLiteracyAndCollaboration.png",
              "images/digitalliteracyandcollaboration.png",
              "images/Digital_Literacy_And_Collaboration.png",
              "images/Digital Literacy And Collaboration.png",
              "images/DigitalLiteracyAndCollaboration.jpg",
              "images/DigitalLiteracyAndCollaboration.jpeg"
            ]'
          />
          <template class="fallback">
            <div class="img-fallback">‚ö†Ô∏è Missing image: <code>DigitalLiteracyAndCollaboration.(png/jpg)</code> in <code>/images</code></div>
          </template>

          <p>This section contains the title slide for a group project on <strong>Digital Literacy and Collaboration</strong> by Kaylee, Allan, Udai, Karen, and Teresa.</p>
        </div></div>
      </div>

      <div class="item">
        <input type="checkbox" id="acc-3" checked />
        <label class="summary" for="acc-3">Springy animation?<span class="chev" aria-hidden="true"></span></label>
        <div class="panel"><div class="panel-inner">
          <p>Tweak <code>--dur</code> and <code>--ease</code> in <code>:root</code> to change timing and bounciness.</p>
        </div></div>
      </div>

      <div class="item">
        <input type="checkbox" id="acc-4" />
        <label class="summary" for="acc-4">Only one open at a time?<span class="chev" aria-hidden="true"></span></label>
        <div class="panel"><div class="panel-inner">
          <p>Swap each checkbox for a <code>type="radio" name="accordion"</code> and the labels will toggle a single shared group.</p>
        </div></div>
      </div>
    </section>
  </main>

  <script>
    // Theme toggle (works everywhere)
    (function () {
      const KEY = "accordion-theme";
      const html = document.documentElement;
      const btn = document.getElementById("toggleTheme");
      const saved = localStorage.getItem(KEY);
      if (saved === "light" || saved === "dark") html.setAttribute("data-theme", saved);
      btn.addEventListener("click", () => {
        const next = html.getAttribute("data-theme") === "dark" ? "light" : "dark";
        html.setAttribute("data-theme", next);
        try { localStorage.setItem(KEY, next); } catch (_) {}
      });
    })();

    // Image auto-resolver: tries candidate filenames until one loads; otherwise show fallback.
    (function () {
      function resolveImage(img) {
        const list = JSON.parse(img.getAttribute("data-candidates") || "[]");
        if (!list.length) return;
        let i = 0;
        function tryNext() {
          if (i >= list.length) {
            // show fallback template (if present)
            const t = img.parentElement.querySelector("template.fallback");
            if (t) img.replaceWith(t.content.cloneNode(true));
            return;
          }
          const candidate = list[i++];
          const probe = new Image();
          probe.onload = () => { img.src = candidate; };
          probe.onerror = tryNext;
          // Use raw URL if the page is viewed from a repo page HTML preview (optional)
          probe.src = candidate;
        }
        tryNext();
      }

      document.querySelectorAll("img[data-candidates]").forEach(resolveImage);
    })();
  </script>
</body>
</html>
